# プログラミング作法
著者 : Biran W.Kernighan, Rob Pike, 福崎 俊博(訳)

## はじめに
想定する読者はプログラミングを始めたばかりの学生、ある程度習熟した学生や仕事人、ちょっとだけ触れたことのある仕事人  
C, Javaがサンプルコードとして用いているが、あらゆる言語を用いた開発の場面で使えることも多いはず  

## 第1章 スタイル
「プログラムを書くということは、正しい構文をつかい、バグを直し、それなりに高速に動くようにすれば済むという話ではない」  
プログラムはコンピュータだけではなくプログラマも読む  

### 1.1 名前
- グローバルにはわかりやすい名前を、ローカルには短い名前を
  - グローバル変数は至るところで現れる可能性があるので役割を名前から連想できるように
- 統一しよう
- 関数には能動的な名前を
  - 能動的な動詞+名詞で構成するのが基本
- 名前は明確に
  - 命名と実装をずれさせるな

### 1.2 式と文
式と文はできるだけひと目で意味がわかるようにする
- 構造がわかるようにインデントしよう
- 自然な形の式を使おう
  - 否定は極力避ける
  - 音読して意味がわかるように
- かっこを使って曖昧さを解消しよう
- 複雑な式は分割しよう
- 明快に書こう
  - 卓越した技術によって短い式に書かれる場合もあるが、目的は「わかりやすい」であって「小賢しい」ではない
- 副作用に注意
  - ++などのインクリメントは値を返すだけでなくもとの値も変更してしまう

### 1.3 一貫性と慣用句
一貫性は優れたプログラムをもたらす
- インデントとブレースのスタイルを統一しよう
- 慣用句によって一貫性を確保しよう
  - for(i = 0; i < n; i++)が慣用句的な形式
  - getsは使うのを避ける(fgetsを使う)
- 多分岐の判定にはelse-ifを使おう
  - switchの落下とかテクニカルでキモい

### 1.4 関数マクロ
流行りじゃないしCがメインなので項目だけまとめる
- 関数マクロはなるべく使うな
- マクロの本体と引数はかっこに入れよう

### 1.5 マジックナンバー
プログラム中に出てくるリテラルな数字
- マジックナンバーには名前をつけよう
  - 原則として0, 1以外の数値はすべてマジックナンバー
- 数値はマクロではなく定数として定義しよう
  - enumとか
- 整数ではなく文字定数を使おう
  - エンコーディングによってうまく行かないことがあるのでライブラリも使っていこう
- オブジェクトサイズは言語に計算せよう
  - sizeofとか

### 1.6 コメント
「注意すべき細かい点に触れたり、もっと大きな視野で処理を解説することでプログラムの理解を助長するようなコメントがベストだ」
- 当たり前のことは書くな
  - うまく名前を選択すればコメントは不要になる
- 関数とグローバルデータにコメントを
  - グローバル変数はあらゆるところで出てくるので、それが何かを定義する
  - 関数は処理の流れをコメントで書いておくと複雑なものもどういう処理を行うのかを理解しやすくなる
- 悪いコードにコメントをつけるな、書き直せ
  - コードよりコメントに比重が置かれているなら書き直す
- コードと矛盾させるな
  - コードを書き換えたらコメントを更新する必要があるかを見直そう
- あくまでも明快に、混乱を招くな
  - 優れたコードは下手なコードよりコメントが少なくて済む

### なぜ手間をかけるのか
- きちんと書かれているコードは読みやすく、間違いが少なく、コンパクトになりやすい
- スタイルは習慣であるので、定期的に見直し、修正することが身を助ける
